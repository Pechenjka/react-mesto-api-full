{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","utils/auth.js","images/logo_header.svg","components/navbar/NavBar.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","hooks/useForm.js","components/Spinner.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PopupConfirmDeleteCard.js","components/ImagePopup.js","components/formAuth/FormAuth.js","components/InfoTooltip.js","images/check-popup-icon.svg","components/Register.js","images/Errorcheck-popup-icon.svg","components/Login.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["CurrentUserContext","createContext","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","res","ok","json","Promise","reject","status","data","method","body","JSON","stringify","name","about","link","avatar","dataId","cardId","card","isLiked","_id","authorization","BASE_URL","checkresponse","NavBar","props","onSignOut","React","useState","isActiveMenu","setIsActiveMenu","className","onClick","type","localStorage","getItem","Header","handleSignOut","loggedIn","src","logoHeader","alt","Card","onCardClick","onCardLike","onConfirmDeleteCardClick","currentUser","useContext","isOwn","owner","cardDeleteButtonClassName","likes","some","item","cardLikeButtonClassName","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","Date","getFullYear","PopupWithForm","title","isOpen","onClose","children","submitButton","onSubmit","disabled","classes","isInfoTooltip","checkIcon","titleInfoTooltips","e","stopPropagation","checkicon","action","noValidate","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","target","value","validationMessage","closest","checkValidity","Spinner","EditProfilePopup","onUpdateUser","isLoading","useEffect","preventDefault","id","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","PopupConfirmDeleteCard","onCardDelete","ImagePopup","selectedCard","FormAuth","linkNameAuthHeader","path","classLink","to","email","password","useStyles","createUseStyles","marginBottom","textAlign","fontFamily","fontWeight","fontSize","margin","maxHeight","maxWidth","marginTop","InfoTooltip","setIsInfoTooltip","Register","onRegister","handleInfoTooltipClose","handleInfoTooltipOpen","isInfoTooltipOpen","CheckIcon","withRouter","onLogin","history","useHistory","setItem","push","catch","err","console","log","message","ErrorCheckIcon","ProtectedRoute","Component","component","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmDeleteCardPopupOpen","setIsConfirmDeleteCardPopupOpen","setSelectedCard","deleteCard","setDeleteCard","setCards","setCurrentUser","setIsLoading","setLoggedIn","setIsInfoTooltipOpen","getUserInfo","getInitialCards","closeAllPopups","closePopupOnEsc","evt","key","document","addEventListener","removeEventListener","jwt","tokenCheck","token","Authorization","statusCode","Error","Provider","removeItem","auth","finally","like","changeLikeCardStatus","newCard","newCards","setUserInfo","setUserAvatar","addNewCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.09a02217.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst CurrentUserContext = createContext();\r\n\r\nexport default CurrentUserContext;\r\n","// Данные для вызова на сервер\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n  // Запрос на сервер для получения данных пользователя\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => data);\r\n  }\r\n  // Запрос на сервер для получения карточек\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => data);\r\n  }\r\n  // Запрос на сервер для изменения данных пользователя\r\n  setUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => data);\r\n  }\r\n  // Запрос на сервер для добавления новой карточки\r\n  addNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => data);\r\n  }\r\n  // Запрос на сервер для изменения аватара пользователя\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => data);\r\n  }\r\n  // Запрос на сервер для удаления карточки\r\n  deleteCard(dataId) {\r\n    return fetch(`${this._baseUrl}/cards/${dataId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((cardId) => cardId);\r\n  }\r\n  // Запрос на сервер для установки/снятия лайка карточке\r\n  changeLikeCardStatus(card, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${card._id}`, {\r\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\r\n      headers: this._headers,\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((card) => card);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\r\n  headers: {\r\n    authorization: 'fa53dc10-0bed-404e-84a8-68518d7f0629',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkresponse = (res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`));\r\n\r\n// Запрос на сервер для регистрации пользователя\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then(checkresponse)\r\n    .then((res) => res);\r\n};\r\n\r\n// Запрос на сервер для авторизации пользователя\r\nexport const authorization = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then(checkresponse)\r\n    .then((res) => res);\r\n};\r\n\r\n// Запрос на сервер для проверки токена пользователя\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then(checkresponse)\r\n    .then((res) => res);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo_header.c2821b38.svg\";","import React from 'react';\r\nimport './navBar.css';\r\n\r\nconst NavBar = (props) => {\r\n  const { onSignOut } = props;\r\n\r\n  const [isActiveMenu, setIsActiveMenu] = React.useState(false);\r\n\r\n  const handleOpenBurgerMenu = () => {\r\n    setIsActiveMenu(!isActiveMenu);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`burger-menu ${isActiveMenu ? 'burger-menu_active' : ''}`}\r\n      onClick={() => {\r\n        isActiveMenu === true && setIsActiveMenu(false);\r\n      }}\r\n    >\r\n      <div className=\"burger-menu__content\">\r\n        <button\r\n          type=\"button\"\r\n          className={`burger-menu__button ${\r\n            !isActiveMenu ? 'burger-menu__button_close' : 'burger-menu__button_active'\r\n          }`}\r\n          onClick={handleOpenBurgerMenu}\r\n        ></button>\r\n        <ul className={`burger-menu__container ${isActiveMenu && 'burger-menu__container_active'}`}>\r\n          <li className=\"burger-menu__wrapper\">\r\n            <p className=\"burger-menu__email\">{localStorage.getItem('email')}</p>\r\n          </li>\r\n          <li className=\"burger-menu__wrapper\">\r\n            <button className=\"burger-menu__exitButton\" onClick={onSignOut}>\r\n              Выйти\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport logoHeader from '../images/logo_header.svg';\r\nimport NavBar from './navbar/NavBar';\r\n\r\nconst Header = (props) => {\r\n  const { handleSignOut, loggedIn } = props;\r\n\r\n  return (\r\n    loggedIn === true && (\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logoHeader} alt=\"Лого - шапка сайта\" />\r\n        <NavBar onSignOut={handleSignOut} />\r\n      </header>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\n//Разметка для карточек\r\nconst Card = (props) => {\r\n  const { card, onCardClick, onCardLike, onConfirmDeleteCardClick } = props;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `card__delete ${isOwn ? 'card__delete_visible' : ''}`;\r\n\r\n  const isLiked = card.likes.some((item) => {\r\n    return item._id === currentUser._id;\r\n  });\r\n  const cardLikeButtonClassName = `card__like-button ${isLiked ? 'card__like-button_active' : ''}`;\r\n\r\n  const handleClick = () => {\r\n    onCardClick(card);\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    onConfirmDeleteCardClick(card);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick} />\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        aria-label=\"Удалить карточку\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n\r\n      <h3 className=\"card__title\">{card.name}</h3>\r\n      <div className=\"card__like-container\">\r\n        <button\r\n          className={cardLikeButtonClassName}\r\n          type=\"button\"\r\n          aria-label=\"Поставить лайк\"\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <span className=\"card__like-count\">{card.likes.length}</span>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import Card from './Card';\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nconst Main = (props) => {\r\n  const {\r\n    onEditAvatar,\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onConfirmDeleteCardClick,\r\n    onCardClick,\r\n    onCardLike,\r\n    cards,\r\n  } = props;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__author\">\r\n          <div className=\"profile__edit-avatar\">\r\n            <img\r\n              alt=\"Фотография автора\"\r\n              className=\"profile__image-author\"\r\n              onClick={onEditAvatar}\r\n              src={currentUser.avatar}\r\n            />\r\n          </div>\r\n          <div className=\"profile__description-author\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__edit-button\"\r\n              onClick={onEditProfile}\r\n              type=\"button\"\r\n              aria-label=\"Открытие окна редактирования профиля автора\"\r\n            ></button>\r\n            <p className=\"profile__about-author\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n          type=\"button\"\r\n          aria-label=\"Добавление карточки\"\r\n        ></button>\r\n      </section>\r\n      <section className=\"grid-cards\">\r\n        <ul className=\"cards\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                card={card}\r\n                key={card._id}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onConfirmDeleteCardClick={onConfirmDeleteCardClick}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nconst Footer = (props) => {\r\n  const { loggedIn } = props;\r\n  return (\r\n    loggedIn === true && (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n      </footer>\r\n    )\r\n  );\r\n};\r\nexport default Footer;\r\n","import React, { Fragment } from 'react';\r\n\r\n//Общая разметка для всех модальных окон\r\nconst PopupWithForm = (props) => {\r\n  const {\r\n    name,\r\n    title,\r\n    isOpen,\r\n    onClose,\r\n    children,\r\n    submitButton,\r\n    onSubmit,\r\n    disabled,\r\n    classes,\r\n    isInfoTooltip,\r\n    checkIcon,\r\n    titleInfoTooltips,\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <section className={`popup popup__${name} ${isOpen ? 'popup_opened' : ''}`} onClick={onClose}>\r\n        <div className=\"popup__container \" onClick={(e) => e.stopPropagation()}>\r\n          <button\r\n            className=\"popup__close-button\"\r\n            type=\"button\"\r\n            aria-label=\"Закрытие модального окна\"\r\n            onClick={onClose}\r\n          ></button>\r\n          {isInfoTooltip === true ? (\r\n            <Fragment>\r\n              <img className={classes.checkicon} src={checkIcon} alt=\"лого\" />\r\n              <h3 className={classes.title}>{titleInfoTooltips}</h3>\r\n            </Fragment>\r\n          ) : (\r\n            <Fragment>\r\n              <h2 className=\"popup__title\">{title}</h2>\r\n              <form\r\n                className={`popup__form popup__form_${name}`}\r\n                action=\"#\"\r\n                name={`popupForm__${name}`}\r\n                onSubmit={onSubmit}\r\n                noValidate\r\n              >\r\n                {children}\r\n                <button\r\n                  type=\"submit\"\r\n                  className={`popup__submit-button ${disabled ? 'popup__button_disabled' : ''}`}\r\n                  disabled={disabled}\r\n                >\r\n                  {submitButton}\r\n                </button>\r\n              </form>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\n\r\nconst useFormWithValidation = () => {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState({});\r\n\r\n  const handleChange = (event) => {\r\n    const { target } = event;\r\n    const { name } = target;\r\n    const { value } = target;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest('form').checkValidity());\r\n  };\r\n\r\n  const resetForm = React.useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return {\r\n    values,\r\n    setValues,\r\n    errors,\r\n    isValid,\r\n    handleChange,\r\n    resetForm,\r\n  };\r\n};\r\n\r\nexport default useFormWithValidation;\r\n","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner__container\">\r\n      <div className=\"spinner__zenith\"></div>\r\n    </div>\r\n  );\r\n};\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport useFormWithValidation from '../hooks/useForm';\r\nimport Spinner from './Spinner';\r\n\r\nconst EditProfilePopup = (props) => {\r\n  const { isOpen, onClose, onUpdateUser, isLoading } = props;\r\n\r\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  //Обработчик сабмита формы\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onUpdateUser(values);\r\n  };\r\n  //Эффект для установки первоначальных состояний полей в модальном окне\r\n  React.useEffect(() => {\r\n    currentUser && resetForm(currentUser);\r\n  }, [currentUser, resetForm]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"edit-profile\"\r\n      submitButton={`${isLoading ? 'Сохранение...' : 'Сохранить'}`}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      disabled={!isValid}\r\n    >\r\n      {isLoading ? (\r\n        <Spinner />\r\n      ) : (\r\n        <fieldset className=\"popup__form-input\">\r\n          <input\r\n            className=\"popup__input popup__form-author popup__form_author_name\"\r\n            id=\"nameAuthor-input\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Имя\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            onChange={handleChange}\r\n            value={values.name || ''}\r\n          />\r\n          <span\r\n            className={`popup__form-input-error ${\r\n              !isValid ? 'popup__form-input-error_active' : ''\r\n            }`}\r\n            id=\"nameAuthor-input-error\"\r\n          >\r\n            {errors.name}\r\n          </span>\r\n          <input\r\n            className=\"popup__input popup__form-author popup__form_author_about\"\r\n            id=\"aboutAuthor-input\"\r\n            type=\"text\"\r\n            name=\"about\"\r\n            placeholder=\"О себе\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            onChange={handleChange}\r\n            value={values.about || ''}\r\n          />\r\n          <span\r\n            className={`popup__form-input-error ${\r\n              !isValid ? 'popup__form-input-error_active' : ''\r\n            }`}\r\n            id=\"aboutAuthor-input-error\"\r\n          >\r\n            {errors.about}\r\n          </span>\r\n        </fieldset>\r\n      )}\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\nimport useFormWithValidation from '../hooks/useForm';\r\nimport Spinner from './Spinner';\r\n\r\nconst EditAvatarPopup = (props) => {\r\n  const { isOpen, onClose, onUpdateAvatar, isLoading } = props;\r\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\r\n\r\n  //Обработчик сабмита формы\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onUpdateAvatar(values);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n  }, [isOpen, resetForm]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"new-avatar\"\r\n      submitButton={`${isLoading ? 'Сохранение...' : 'Сохранить'}`}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      disabled={!isValid}\r\n    >\r\n      {isLoading ? (\r\n        <Spinner />\r\n      ) : (\r\n        <fieldset className=\"popup__form-input\">\r\n          <input\r\n            className=\"popup__input  popup__form_edit-avatar\"\r\n            id=\"avatarLink-input\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на аватарку\"\r\n            name=\"avatar\"\r\n            required\r\n            onChange={handleChange}\r\n            value={values.avatar || ''}\r\n          />\r\n          <span\r\n            className={`popup__form-input-error ${\r\n              !isValid ? 'popup__form-input-error_active' : ''\r\n            }`}\r\n            id=\"avatarLink-input-error\"\r\n          >\r\n            {errors.name}\r\n          </span>\r\n        </fieldset>\r\n      )}\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport useFormWithValidation from '../hooks/useForm';\r\nimport React from 'react';\r\nimport Spinner from './Spinner';\r\n\r\nconst AddPlacePopup = (props) => {\r\n  const { isOpen, onClose, onAddPlace, isLoading } = props;\r\n\r\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\r\n\r\n  //Обработчик сабмита формы\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onAddPlace(values);\r\n  };\r\n  //Эффект для установки первоначальных состояний кнопки и полей в модальном окне\r\n  React.useEffect(() => {\r\n    resetForm();\r\n  }, [isOpen, resetForm]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"add-card\"\r\n      submitButton={`${isLoading ? 'Создание...' : 'Создать'}`}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      disabled={!isValid}\r\n    >\r\n      {isLoading ? (\r\n        <Spinner />\r\n      ) : (\r\n        <fieldset className=\"popup__form-input\">\r\n          <input\r\n            className=\"popup__input popup__form-author popup__form_card_name\"\r\n            id=\"cardName-input\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            name=\"name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            onChange={handleChange}\r\n            value={values.name || ''}\r\n          />\r\n          <span\r\n            className={`popup__form-input-error ${\r\n              !isValid ? 'popup__form-input-error_active' : ''\r\n            }`}\r\n            id=\"cardName-input-error\"\r\n          >\r\n            {errors.name}\r\n          </span>\r\n          <input\r\n            className=\"popup__input popup__form-author popup__form_card_link\"\r\n            id=\"cardLink-input\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"link\"\r\n            required\r\n            onChange={handleChange}\r\n            value={values.link || ''}\r\n          />\r\n          <span\r\n            className={`popup__form-input-error ${\r\n              !isValid ? 'popup__form-input-error_active' : ''\r\n            }`}\r\n            id=\"cardLink-input-error\"\r\n          >\r\n            {errors.link}\r\n          </span>\r\n        </fieldset>\r\n      )}\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport Spinner from './Spinner';\r\n\r\nconst PopupConfirmDeleteCard = (props) => {\r\n  const { isOpen, onClose, onCardDelete, isLoading } = props;\r\n\r\n  function handleConfirmSubmit(event) {\r\n    event.preventDefault();\r\n    onCardDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Вы уверены?\"\r\n      submitButton={`${isLoading ? 'Удаление...' : 'Да'}`}\r\n      name=\"delete-card\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleConfirmSubmit}\r\n    >\r\n      {isLoading ? <Spinner /> : ''}\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default PopupConfirmDeleteCard;\r\n","import React from 'react';\r\n\r\n//Модальное окно карточки\r\nconst ImagePopup = (props) => {\r\n  const { selectedCard, onClose, isOpen } = props;\r\n\r\n  return (\r\n    <section className={`popup popup__open-card ${isOpen ? 'popup_opened' : ''}`} onClick={onClose}>\r\n      <div className=\"popup__container-open-card\" onClick={(e) => e.stopPropagation()}>\r\n        <button\r\n          className=\"popup__close-button popup__close-button_open-card\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          aria-label=\"Закрытие окна просмотра карточки\"\r\n        ></button>\r\n        <figure className=\"popup__open-card-figure\">\r\n          <img\r\n            src={selectedCard ? selectedCard.link : ''}\r\n            alt={selectedCard ? selectedCard.name : ''}\r\n            className=\"popup__open-card-image\"\r\n          />\r\n          <figcaption className=\"popup__open-card-figcaption\">\r\n            {selectedCard ? selectedCard.name : ''}\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport './formAuth.css';\r\nimport logoHeader from '../../images/logo_header.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport Spinner from '../Spinner';\r\n\r\nconst FormAuth = (props) => {\r\n  const {\r\n    errors,\r\n    isValid,\r\n    values,\r\n    onChange,\r\n    submitButton,\r\n    title,\r\n    linkNameAuthHeader,\r\n    path,\r\n    classLink,\r\n    onSubmit,\r\n    onClick,\r\n    disabled,\r\n    isLoading,\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"formauth__container\">\r\n      <div className=\"formauth__page\">\r\n        <header className=\"formauth__header\">\r\n          <img className=\"formauth__header-logo\" src={logoHeader} alt=\"Лого\" />\r\n          {\r\n            <Link className=\"formauth__header-link\" to={path}>\r\n              {linkNameAuthHeader}\r\n            </Link>\r\n          }\r\n        </header>\r\n        <main className=\"formauth__main\">\r\n          <div className=\"formauth__main-container\">\r\n            <h2 className=\"formauth__main-title\">{title}</h2>\r\n            <form className=\"formauth__main-form\" onSubmit={onSubmit}>\r\n              <fieldset className=\"formauth__main-form-fieldset\">\r\n                <input\r\n                  className=\"formauth__main-form-input\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  required\r\n                  value={values.email || ''}\r\n                  onChange={onChange}\r\n                  // pattern=\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\r\n                />\r\n                <span\r\n                  className={`formauth__main-form-input-error ${\r\n                    !isValid ? 'formauth__main-form-input-error_active' : ''\r\n                  }`}\r\n                  id=\"email-error\"\r\n                >\r\n                  {errors.email}\r\n                </span>\r\n                <input\r\n                  className=\"formauth__main-form-input\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  minLength=\"8\"\r\n                  required\r\n                  value={values.password || ''}\r\n                  onChange={onChange}\r\n                  // pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\r\n                />\r\n                <span\r\n                  className={`formauth__main-form-input-error ${\r\n                    !isValid ? 'formauth__main-form-input-error_active' : ''\r\n                  }`}\r\n                  id=\"password-error\"\r\n                >\r\n                  {errors.password}\r\n                </span>\r\n              </fieldset>\r\n              <button\r\n                className={`formauth__main-form-button ${\r\n                  disabled ? 'formauth__main-form-button_disabled' : ''\r\n                }`}\r\n                type=\"submit\"\r\n                onClick={onClick}\r\n                disabled={disabled}\r\n              >\r\n                {isLoading === true ? <Spinner /> : submitButton}\r\n              </button>\r\n            </form>\r\n            <Link className={classLink} to=\"/sign-in\">\r\n              Уже зарегистрированы? Войти\r\n            </Link>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormAuth;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { createUseStyles } from 'react-jss';\r\n\r\nconst useStyles = createUseStyles({\r\n  title: {\r\n    marginBottom: 24,\r\n    textAlign: 'center',\r\n    fontFamily: 'Inter',\r\n    fontWeight: 900,\r\n    fontSize: 24,\r\n    margin: 0,\r\n    '@media screen and (max-width: 512px)': {\r\n      fontSize: 20,\r\n      marginBottom: 50,\r\n    },\r\n  },\r\n  checkicon: {\r\n    maxHeight: 120,\r\n    maxWidth: 120,\r\n    marginTop: 26,\r\n    marginBottom: 32,\r\n    margin: 'auto',\r\n    '@media screen and (max-width: 512px)': {\r\n      marginTop: 50,\r\n      marginBottom: 40,\r\n    },\r\n  },\r\n});\r\n\r\nconst InfoTooltip = (props) => {\r\n  const { isOpen, onClose, title, titleInfoTooltips, checkIcon } = props;\r\n\r\n  const [isInfoTooltip, setIsInfoTooltip] = React.useState(false);\r\n  const classes = useStyles();\r\n\r\n  React.useEffect(() => {\r\n    setIsInfoTooltip(true);\r\n  }, [isInfoTooltip]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isInfoTooltip={isInfoTooltip}\r\n      classes={classes}\r\n      title={title}\r\n      checkIcon={checkIcon}\r\n      titleInfoTooltips={titleInfoTooltips}\r\n    />\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/check-popup-icon.a9eb6caf.svg\";","import React, { Fragment } from 'react';\r\nimport FormAuth from './formAuth/FormAuth';\r\nimport useFormWithValidation from './../hooks/useForm';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport CheckIcon from '../images/check-popup-icon.svg';\r\n\r\nconst Register = (props) => {\r\n  const {\r\n    onRegister,\r\n    handleInfoTooltipClose,\r\n    handleInfoTooltipOpen,\r\n    isInfoTooltipOpen,\r\n    isLoading,\r\n  } = props;\r\n\r\n  const { values, errors, isValid, handleChange } = useFormWithValidation();\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onRegister(values).then((res) => res && handleInfoTooltipOpen());\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <FormAuth\r\n        title=\"Регистрация\"\r\n        linkNameAuthHeader=\"Войти\"\r\n        submitButton=\"Зарегистрироваться\"\r\n        path=\"/sign-in\"\r\n        classLink=\"formauth__main-link-on-login_active\"\r\n        values={values}\r\n        onChange={handleChange}\r\n        isValid={isValid}\r\n        errors={errors}\r\n        onSubmit={handleSubmit}\r\n        disabled={!isValid}\r\n        isLoading={isLoading}\r\n      />\r\n      {isInfoTooltipOpen === true && (\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={handleInfoTooltipClose}\r\n          titleInfoTooltips=\"Вы успешно зарегистрировались!\"\r\n          checkIcon={CheckIcon}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/Errorcheck-popup-icon.d4ce2a26.svg\";","import FormAuth from './formAuth/FormAuth';\r\nimport useFormWithValidation from './../hooks/useForm';\r\nimport { withRouter, useHistory } from 'react-router-dom';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport { Fragment } from 'react';\r\nimport ErrorCheckIcon from '../images/Errorcheck-popup-icon.svg';\r\n\r\nconst Login = (props) => {\r\n  const {\r\n    onLogin,\r\n    handleInfoTooltipClose,\r\n    handleInfoTooltipOpen,\r\n    isInfoTooltipOpen,\r\n    isLoading,\r\n  } = props;\r\n\r\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onLogin(values)\r\n      .then(() => {\r\n        localStorage.setItem('email', values.email);\r\n        history.push('/');\r\n      })\r\n      .catch((err) => {\r\n        if (err) {\r\n          handleInfoTooltipOpen();\r\n          resetForm();\r\n          console.log({ message: `Пользователь с email: ${values.email} не найден` });\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <FormAuth\r\n        title=\"Вход\"\r\n        linkNameAuthHeader=\"Регистрация\"\r\n        path=\"/sign-up\"\r\n        classLink=\"formauth__main-link-on-login_hidden\"\r\n        submitButton=\"Войти\"\r\n        values={values}\r\n        onChange={handleChange}\r\n        isValid={isValid}\r\n        errors={errors}\r\n        onSubmit={handleSubmit}\r\n        disabled={!isValid}\r\n        isLoading={isLoading}\r\n      />\r\n      {isInfoTooltipOpen === true && (\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={handleInfoTooltipClose}\r\n          titleInfoTooltips=\"Что-то пошло не так! Попробуйте ещё раз.\"\r\n          checkIcon={ErrorCheckIcon}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","import { Redirect, Route } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>{props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/sign-up\" />}</Route>\r\n  );\r\n};\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport { Route, Switch, useHistory, withRouter } from 'react-router-dom';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nimport api from '../utils/api';\r\nimport * as auth from '../utils/auth';\r\n// Импорт компонентов\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport PopupConfirmDeleteCard from './PopupConfirmDeleteCard';\r\nimport ImagePopup from './ImagePopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\n//Импорт HOC\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\n//Основной контейнер приложения\r\nconst App = () => {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [isConfirmDeleteCardPopupOpen, setIsConfirmDeleteCardPopupOpen] = React.useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [deleteCard, setDeleteCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n  // Эффект монтирования данных пользователя\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  // Эффект загрузки карточек с сервера\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  // Обработчики открытия модальных окон\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleConfirmDeleteCardClick = (card) => {\r\n    setDeleteCard(card);\r\n    setIsConfirmDeleteCardPopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (selectedCard) => {\r\n    setSelectedCard(selectedCard);\r\n    setIsImagePopupOpen(true);\r\n  };\r\n  // Обработчик закрытия модальных окон\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsConfirmDeleteCardPopupOpen(false);\r\n  };\r\n  // Обработчик лайка карточки\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((item) => (item._id === card._id ? newCard : item));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  // Обработчик удаления карточки\r\n  const handleCardDelete = () => {\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCard(deleteCard._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((item) => item._id !== deleteCard._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n  // Обработчик обновления данных пользователя\r\n  const handleUpdateUser = (data) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n  // Обработчик обновления аватарки пользователя\r\n  const handleUpdateAvatar = (data) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n  // Обработчик добавления новой карточки\r\n  const handleAddPlaceSubmit = (data) => {\r\n    setIsLoading(true);\r\n    api\r\n      .addNewCard(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  // Уcтановка эффекта закрытия модального окна по кнопке Esc\r\n  React.useEffect(() => {\r\n    const closePopupOnEsc = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n    document.addEventListener('keyup', closePopupOnEsc);\r\n    return () => {\r\n      document.removeEventListener('keyup', closePopupOnEsc);\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    loggedIn && history.push('/');\r\n    // eslint-disable-next-line\r\n  }, [loggedIn]);\r\n\r\n  // Обрабочик регистрации пользователя\r\n  const handleRegister = (values) => {\r\n    const { email, password } = values;\r\n    setIsLoading(true);\r\n    return auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (!res || res.statusCode === 400) {\r\n          throw new Error({ message: 'Не передано одно из полей' });\r\n        }\r\n        return res;\r\n      })\r\n      .catch(() => console.log({ message: 'Некорректно заполнено одно из полей' }))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  // Обрабочик авторизации пользователя\r\n  const handleLogin = (values) => {\r\n    const { email, password } = values;\r\n    setIsLoading(true);\r\n    return auth\r\n      .authorization(email, password)\r\n      .then((res) => {\r\n        if (!res || res.statusCode === 400) {\r\n          throw new Error({ message: 'Не передано одно из полей' });\r\n        }\r\n        if (res.token) {\r\n          setLoggedIn(true);\r\n          localStorage.setItem('jwt', res.token);\r\n          return res;\r\n        }\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  // Эффект установки действия токена на приложение\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      tokenCheck(jwt);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  //Проверка токена\r\n  const tokenCheck = (jwt) => {\r\n    auth.getContent(jwt).then((res) => {\r\n      if (res) {\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n      }\r\n      if (res.statusCode === 400) {\r\n        throw new Error({\r\n          message: `Токен: ${jwt} не передан или передан не в том формате`,\r\n        });\r\n      }\r\n      if (res.statusCode === 401) {\r\n        throw new Error({ message: `Переданный токен: ${jwt} некорректен` });\r\n      }\r\n    });\r\n  };\r\n\r\n  // Обработчик выхода из профиля на страницу входа\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    localStorage.removeItem('email');\r\n    history.push('/sign-in');\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  // Обработчики открытия и закрытия infoTooltips\r\n  const handleInfoTooltipClose = () => {\r\n    setIsInfoTooltipOpen(false);\r\n    history.push('/sign-in');\r\n  };\r\n  const handleInfoTooltipOpen = () => {\r\n    setIsInfoTooltipOpen(true);\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header handleSignOut={handleSignOut} loggedIn={loggedIn} />\r\n        <Switch>\r\n          <Route path=\"/sign-up\">\r\n            <Register\r\n              onRegister={handleRegister}\r\n              handleInfoTooltipClose={handleInfoTooltipClose}\r\n              handleInfoTooltipOpen={handleInfoTooltipOpen}\r\n              isInfoTooltipOpen={isInfoTooltipOpen}\r\n              isLoading={isLoading}\r\n            />\r\n          </Route>\r\n          <Route path=\"/sign-in\">\r\n            <Login\r\n              onLogin={handleLogin}\r\n              handleInfoTooltipClose={handleInfoTooltipClose}\r\n              handleInfoTooltipOpen={handleInfoTooltipOpen}\r\n              isInfoTooltipOpen={isInfoTooltipOpen}\r\n              isLoading={isLoading}\r\n            />\r\n          </Route>\r\n          <ProtectedRoute\r\n            path=\"/\"\r\n            component={Main}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onConfirmDeleteCardClick={handleConfirmDeleteCardClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            cards={cards}\r\n            loggedIn={loggedIn}\r\n          />\r\n        </Switch>\r\n        <Footer loggedIn={loggedIn} />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isLoading={isLoading}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isLoading={isLoading}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isLoading={isLoading}\r\n        />\r\n        <PopupConfirmDeleteCard\r\n          isOpen={isConfirmDeleteCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onCardDelete={handleCardDelete}\r\n          isLoading={isLoading}\r\n        />\r\n        <ImagePopup\r\n          selectedCard={selectedCard}\r\n          onClose={closeAllPopups}\r\n          isOpen={isImagePopupOpen}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n// css import\r\nimport './index.css';\r\n// application components import\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}